<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Suspended | Campus Market</title>
    <link rel="stylesheet" href="/css/campus-theme.css">
</head>

<body style="display:flex; align-items:center; justify-content:center; min-height:100vh; background: #fef2f2;">

    <div class="card"
        style="width: 100%; max-width: 500px; padding: 2.5rem; text-align: center; border-top: 6px solid var(--danger);">

        <div style="font-size: 4rem; margin-bottom: 1rem;">ðŸš«</div>

        <% if (user.ban_expires && new Date(user.ban_expires)> new Date()) { %>
            <h1 class="text-danger font-bold" style="margin-bottom: 0.5rem;">Temporary Suspension</h1>
            <p class="text-muted" style="margin-bottom: 1.5rem;">Your access has been temporarily restricted due to a
                violation of our terms.</p>

            <div
                style="background: #fffbeb; padding: 1rem; border-radius: 8px; color: #b45309; margin-bottom: 1.5rem; font-weight: bold;">
                Access Restored: <%= new Date(user.ban_expires).toLocaleDateString('en-GB', { day: 'numeric' ,
                    month: 'long' , year: 'numeric' }) %>
            </div>
            <% } else { %>
                <h1 class="text-danger font-bold" style="margin-bottom: 0.5rem;">Account Banned</h1>
                <p class="text-muted" style="margin-bottom: 1.5rem;">Your account has been permanently banned from
                    Campus Market.</p>
                <% } %>

                    <div
                        style="text-align: left; background: #f8fafc; padding: 1rem; border-radius: 8px; margin-bottom: 2rem;">
                        <div class="text-xs font-bold text-muted uppercase">Reason for Suspension</div>
                        <div class="font-bold text-main">
                            <%= user.ban_reason || 'Violation of Community Guidelines' %>
                        </div>
                    </div>

                    <div class="flex justify-center gap-4" style="margin-bottom: 2rem;">
                        <a href="/logout" class="btn btn-secondary">Logout</a>
                    </div>

                    <!-- Appeals Section -->
                    <% if (locals.pendingAppeal) { %>
                        <div
                            style="background: #eff6ff; padding: 1rem; border-radius: 8px; border: 1px solid #bfdbfe; color: #1e40af;">
                            <strong>Appeal Under Review</strong>
                            <p class="text-xs" style="margin-top: 0.25rem;">Administrators are reviewing your case.</p>
                        </div>
                        <% } else { %>
                            <div style="text-align: left; border-top: 1px solid var(--border); padding-top: 1.5rem;">
                                <h3 style="font-size: 1.1rem; margin-bottom: 1rem;">Appeal Suspension</h3>
                                <form action="/appeal" method="POST" class="flex flex-col gap-3">
                                    <input type="hidden" name="_csrf"
                                        value="<%= typeof csrfToken !== 'undefined' ? csrfToken : '' %>">
                                    <textarea name="message" class="input-base" rows="3"
                                        placeholder="Explain why your ban should be lifted..." required></textarea>
                                    <button class="btn btn-primary btn-outline" style="width: 100%;">Submit
                                        Appeal</button>
                                    <p class="text-xs text-muted">Note: Spamming appeals may result in a permanent IP
                                        block.</p>
                                </form>
                            </div>
                            <% } %>

                                <div class="text-xs text-muted" style="margin-top: 1.5rem;">
                                    Reference ID: #<%= user.id %>
                                </div>
    </div>

</body>

</html>